/***  kadai2.c  ***/
/***  s15092  2J23  ’Å–¼ ‘×”V  ***/

#include <ctype.h>
#include <stdio.h>

#define MAX_ARY 38


void DispAmd();
int GetRwNum();
int GetColNum();
int RmvBar();
int AddBar();


int main()
{
	char map[MAX_ARY][MAX_ARY] =
	{
		{ '|',' ','|',' ','|',' ','|',' ','|','\0' },			//0
		{ '|','-','|',' ','|','-','|',' ','|','\0' },			//1
		{ '|',' ','|',' ','|',' ','|','-','|','\0' },			//2
		{ '|',' ','|','-','|',' ','|',' ','|','\0' },			//3
		{ '|',' ','|','-','|',' ','|','-','|','\0' },			//4
		{ '|','-','|',' ','|','-','|',' ','|','\0' },			//5
		{ '|',' ','|',' ','|',' ','|',' ','|','\0' },			//6
		{ '|','-','|',' ','|',' ','|','-','|','\0' },			//7
		{ '|',' ','|','-','|',' ','|',' ','|','\0' },			//8
		{ '|',' ','|',' ','|','-','|',' ','|','\0' },			//9
		{ '|',' ','|','-','|',' ','|','-','|','\0' },			//10
		{ '|','-','|',' ','|','-','|',' ','|','\0' },			//11
		{ '|',' ','|',' ','|',' ','|',' ','|','\0' },			//12
		{ '|',' ','|','-','|',' ','|','-','|','\0' },			//13
		{ '|','-','|',' ','|',' ','|',' ','|','\0' },			//14
		{ '|',' ','|',' ','|',' ','|',' ','|','\0' },			//15
		{ '\0','\0','\0','\0','\0','\0','\0','\0','\0','\0' }	//16
	};

	DispAmd(map);

	if (RmvBar(map) == 0)	DispAmd(map);

	if (AddBar(map) == 0)	DispAmd(map);


	return 0;
}


void DispAmd(char map[][MAX_ARY])
{
	if (map[0][1] != ' ')	return;

	putchar('\t');
	for (size_t num = 0; num < GetColNum(map); num++)	printf("%d   ", num);
	putchar('\n');

	for (size_t i = 0; i < GetRwNum(map); i++)
	{
		printf("%2d\t", i);
		for (size_t j = 0; j < GetColNum(map) * 2; j++)
		{
			if (map[i][j] == ' ' || map[i][j] == '-')	printf("%c%c%c", map[i][j], map[i][j], map[i][j]);
			else if (map[i][j] == '|' || map[i][j] == '\0')	printf("%c", map[i][j]);
			else	return;
		}
		putchar('\n');
	}

	putchar('\t');
	for (size_t ch = 0x41; ch < GetColNum(map) + 0x41; ch++)	printf("%c   ", ch);
	putchar('\n');
}

int GetRwNum(char map[][MAX_ARY])
{
	int i = 0;
	while (map[i][0] != '\0')
	{
		i++;
		if (i > MAX_ARY)	return -1;
	}

	return i;
}

int GetColNum(char map[][MAX_ARY])
{
	int i = 0;
	while (map[0][i] != '\0')
	{
		i++;
		if (i > MAX_ARY)	return -1;
	}

	return (i + 1) / 2;
}

int RmvBar(char map[][MAX_ARY])
{
	int row, col;
	char buff[16];

	fgets(buff, 16, stdin);
	sscanf(buff, "%d %d", &row, &col);
	col = col * 2 + 1;

	if (((row > 0) && (row < GetRwNum(map) - 1)) && ((col >= 0) && (col <= GetColNum(map))) && (map[row][col] == '-'))	map[row][col] = ' ';
	else return -1;

	return 0;
}

int AddBar(char map[][MAX_ARY])
{
	int row, col;
	char buff[16];

	fgets(buff, 16, stdin);
	sscanf(buff, "%d %d", &row, &col);
	col = col * 2 + 1;

	if (((row > 0) && (row < GetRwNum(map) - 1)) && ((col >= 0) && (col <= GetColNum(map))) && (map[row][col] == ' ') && ((map[row][col + 2] != '-') && (map[row][col - 2] != '-')))	map[row][col] = '-';
	else return -1;

	return 0;
}


/**************** ŽÀsŒ‹‰Ê *****************


        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |---|   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
3 1
        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |   |   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |---|   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
6 2
        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |   |   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |---|   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |---|   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E


        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |---|   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
0 1
0 2


        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |---|   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
-2 1
-2 2


        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |---|   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
15 1
15 2


        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |---|   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
20 1
20 2


        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |---|   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
3 -5
6 -5


        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |---|   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
3 4
6 4


        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |---|   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
3 8
6 8


        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |---|   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
2 0
8 1


        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |---|   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
11 2
        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |   |   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
7 1


        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |---|   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
11 2
        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |   |   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
5 3


        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |---|   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
11 2
        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |   |   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
7 2


        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |---|   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
11 2
        0   1   2   3   4
 0      |   |   |   |   |
 1      |---|   |---|   |
 2      |   |   |   |---|
 3      |   |---|   |   |
 4      |   |---|   |---|
 5      |---|   |---|   |
 6      |   |   |   |   |
 7      |---|   |   |---|
 8      |   |---|   |   |
 9      |   |   |---|   |
10      |   |---|   |---|
11      |---|   |   |   |
12      |   |   |   |   |
13      |   |---|   |---|
14      |---|   |   |   |
15      |   |   |   |   |
        A   B   C   D   E
10 0


*******************************************/
